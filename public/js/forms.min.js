      function banyakKD(x){
        var data = "";
        for(var y =0;y<x;y++){
          data += '<tr><td><input class="form-control" type="text" placeholder="Nama Barang/Jasa" name="namabarang"></td><td><input class="form-control" type="text" placeholder="Banyaknya Barang/Jasa" name="jumlahbarang" data-type="jumlahbarang"></td><td><input class="form-control" type="text" placeholder="Harga Satuan Barang/Jasa" name="hargabarang" data-type="hargabarang"></td><td><input class="form-control" type="text" placeholder="Total" name="totalharga" data-type="totalharga"></td></tr>';
          '<th></th>';
        }
        $("#kd  > tbody").empty();
        $("#kd > tbody").append(data);
      }
      //Logika Autosum

      $('[data-type]').on('keyup', function(ev) {
        var el = $(this);
        if(el.attr('data-type')=="jumlahbarang") {
          jumlahbarang = parseInt(el.val()) || 0;
          hargabarang = parseInt(el.parent().parent().find('[data-type="hargabarang"]').val()) || 0;
          el.parent().parent().find('[data-type="totalharga"]').val(
            jumlahbarang*hargabarang
            );
        } else if (el.attr('data-type')=="hargabarang") {
          hargabarang = parseInt(el.val()) || 0;
          jumlahbarang = parseInt(el.parent().parent().find('[data-type="jumlahbarang"]').val()) || 0;
          el.parent().parent().find('[data-type="totalharga"]').val(
            jumlahbarang*hargabarang
            );

          var hargaAkhirbarang = 0;
          $('[name="totalharga"]').each(function() {
            if(isNaN(parseInt($(this).val()))) return;
            hargaAkhirbarang += parseInt($(this).val());
          });
          $('[name="hargaAkhirbarang"]').val(hargaAkhirbarang);
        }



      });